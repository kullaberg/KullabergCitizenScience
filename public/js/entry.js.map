{"version":3,"file":"./js/entry.js?c4cbcb150ae2bf3e1f8b","sources":["webpack:///./app/img/trail.jpg","webpack:///./entry.js","webpack:///./app/css/master.css?c396","webpack:///./app/js/master.js","webpack:///./app/js/missions.js","webpack:///./app/js/stitch.js","webpack:///./app/img/tumlare.jpg"],"sourcesContent":["module.exports = __webpack_public_path__ + \"./img/trail.jpg?e5ae226dede12f864004ec83d0addd44\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/img/trail.jpg\n// module id = 17\n// module chunks = 1","require(\"./node_modules/materialize-css/dist/css/materialize.css\");\nrequire(\"./node_modules/materialize-css/dist/js/materialize\");\nrequire(\"./node_modules/mdi/css/materialdesignicons.css\");\nrequire(\"./app/css/master.css\");\nrequire(\"./app/js/offlineRuntimeInstall\");\nrequire(\"./app/js/master\");\nrequire(\"./app/js/missions\");\n\n// require(\"./app/js/mongo\");\n// require(\"./app/js/geolocation\");\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./entry.js\n// module id = 65\n// module chunks = 1","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/css/master.css\n// module id = 66\n// module chunks = 1","$(\".modal\").modal();\nwindow.addEventListener(\"load\", function() {\n  document.getElementById(\"loading\").remove();\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/js/master.js\n// module id = 67\n// module chunks = 1","// Required for MongoDB database interfacing https://mongodb.github.io/stitch-js-sdk/Collection.html#updateOne\nrequire(\"./stitch\");\n\n// Empty template string to gather and hold html for mission cards in memory\nlet missionCardsHTML = ``;\n\n// The object that holds the parameters for missions and html for the forms\nlet forms = {};\n\n// The DOM element that holds the mission cards\nconst missionsElement = document.getElementById(\"missions\");\n// missionsElement.innerHTML += `<h5 class=\"blue-text text-darken-3\">Choose Your Mission</h3>`;\n\n// Collecting all Missions in a Set\nlet Missions = new Set();\n\nclass Mission {\n  /**\n   * Creates an instance of Mission.\n   * @param {object} {\n   *     title = \"Title\",\n   *     description = \"Description\",\n   *     parameters = { monitor: function() {}, analyze: function() {} },\n   *     image = require(\"../img/trail.jpg\")\n   *   } \n   * @memberof Mission\n   */\n  constructor({\n    title = \"Title\",\n    description = \"Description\",\n    // Data for form submission goes inside the monitor function and data retrieval sorting goes in the analyze function\n    parameters = { monitor: function() {}, analyze: function() {} },\n    image = require(\"../img/trail.jpg\")\n  }) {\n    this.title = title;\n    this.description = description;\n    this.parameters = parameters;\n    this.image = image;\n    // Currently unused positioning example\n    this.getPosition = `<div class=\"col s12 m6\">\n  <div class=\"card\">\n    <div class=\"card-content\">\n      <span class=\"card-title\">Your Position</span>\n      <span id=\"coordinates\">\n        You have not granted permission for us to locate your position.\n      </span>\n    </div>\n  </div>\n</div>\n<div id=\"sendButton\" class=\"col s12 center\"> </div>\n`;\n    this.card = `<div class=\"cardContainer\" id=\"${this.title}\">\n  <div class=\"col s12 m6 l4\">\n    <div class=\"card medium\">\n      <div class=\"card-image\">\n        <img src=\"${this.image}\">\n        <span class=\"card-title\">${this.title}</span>\n      </div>\n      <div class=\"card-content\">\n        <p>${this.description}</p>\n      </div>\n      <div class=\"card-action\">\n        <a class=\"pointer\" onclick=\"${this.parameters.monitor()}\">Monitor</a>\n        <a class=\"pointer\" onclick=\"${this.parameters.analyze()}\">Analyze</a>\n      </div>\n    </div>\n  </div>\n</div>\n`;\n    Missions.add(this);\n    missionCardsHTML += this.card;\n  }\n}\n\n// Create the Missions\ntrails = new Mission({\n  title: \"Trail Conditions\",\n  description: \"Participate in monitoring trail conditions in Kullaberg.\",\n  image: require(\"../img/trail.jpg\"),\n  parameters: {\n    monitor: function() {\n      let parameters = `<form>\n        <label>Georeference: [\"North\", \"East\", \"Altitude\"]</label>\n        <label>Date:\n                <input id=\"Date\" type=\"date\">\n        </label>\n        <label>\n                RootsExposed:\n                <input type=\"radio\">\n        </label>\n        <label>\n                Flooded:\n                <input type=\"radio\"> </label>\n        <label>\n                FallenTreesOnTrail:\n                <input type=\"radio\"> </label>\n        <label>\n                Risk from fallen trees or branches:\n                <input type=\"radio\"> </label>\n        <label>\n                Slippery:\n                <input type=\"radio\"> </label>\n        <label>\n                Sharp Stones:\n                <input type=\"radio\">\n        </label>\n        <label>\n                Thorny vegetation at the edge of the path:\n                <input type=\"radio\">\n        </label>\n        <label>\n                Bifurcation - widening (i):\n                <input type=\"radio\">\n        </label>\n        <label>\n                Erosion (i): [\"Low\", \"Medium\", \"High\"] A. Support infrastructure (handrails, ropes, steps)\":\n                <input type=\"text\">\n        </label>\n        <label>\n                B. Perception about the use (many people, conflicts betwen hikers, horeses, bicycles) Please describe:\n                <input type=\"text\">\n        </label>\n</form>\n`;\n\n      let form = {};\n    },\n    analyze: function() {}\n  }\n});\n\ntumlare = new Mission({\n  title: \"Porpoise Observation\",\n  description:\n    \"Participate in monitoring porpoise whale activity around Kullaberg.\",\n  image: require(\"../img/tumlare.jpg\")\n});\n\n// Additional missions go here! test = new Mission({});\n\n// Add HTML Mission Cards to the DOM\nmissionsElement.innerHTML = missionCardsHTML;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/js/missions.js\n// module id = 68\n// module chunks = 1","// require(\"https://s3.amazonaws.com/stitch-sdks/js/library/stable/stitch.min.js\");\n\n// import { StitchClient } from \"mongodb-stitch\";\nconst stitch = require(\"mongodb-stitch\");\nconst appId = \"citizensciencestitch-oakmw\";\nconst stitchClient = new stitch.StitchClient(appId);\n\n// Mongodb-stitch documentation https://mongodb.github.io/stitch-js-sdk/\n\n// Anonymous Authentication\nstitchClient\n  .anonymousAuth()\n  .then(() => console.log(\"logged in as: \" + stitchClient.authedId()))\n  .catch(e => console.log(\"error: \", e));\n\n// MongoDB Conect to citizenScience Database, free M0 tier 512MB storage\nconst db = stitchClient\n  .service(\"mongodb\", \"mongodb-atlas\")\n  .db(\"citizenScience\");\n\n// Mission Collections within the MongoDB ddatabase\nconst trails = db.collection(\"TrailCondition\");\nconst tumlare = db.collection(\"Tumlare\");\n\n// Test MongoDB conectivity\nstitchClient\n  .login()\n  .then(() =>\n    db\n      .collection(\"stitch\")\n      .updateOne(\n        { owner_id: stitchClient.authedId() },\n        { $set: { number: 42 } },\n        { upsert: true }\n      )\n  )\n  .then(() =>\n    db.collection(\"stitch\").find({ owner_id: stitchClient.authedId() })\n  )\n  .then(docs => {\n    console.log(\"Found docs\", docs);\n    console.log(\"[MongoDB Stitch] Connected to Stitch\");\n  })\n  .catch(err => {\n    console.error(err);\n  });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/js/stitch.js\n// module id = 69\n// module chunks = 1","module.exports = __webpack_public_path__ + \"./img/tumlare.jpg?a0b7d3b21f32536b83f0e5192c541a22\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/img/tumlare.jpg\n// module id = 70\n// module chunks = 1"],"mappings":";;;;;AAAA;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACTA;;;;;;;ACAA;AACA;AACA;AACA;;;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC7IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC7CA;;;;A","sourceRoot":""}